[subsurface]
DATETIME_CONFIG = CURRENT
NO_BINARY_CHECK = true
category = Custom
disabled = false
pulldown_type = true
SHOULD_LINEMERGE = false
TRUNCATE = 20000
LINE_BREAKER=([\r\n]+)(\<dive\snumber)|([\r\n]+)(\<site)|([\r\n]+)(\<settings)|([\r\n]+)(\<divesites\>)|([\r\n]+)(\<dives>)|([\r\n]+)(\<\/divesites>)|([\r\n]+)(\<\/dives>)|([\r\n]+)(\<\/divelog>)
EXTRACT-subsurface-country = (\<geo\scat=\'2\'(.*?)value=\'(?<country>[A-Za-z0-9\s]+).*)
EXTRACT-subsurface-gps = (\<site(.*?)gps=\'(?<lat>[\-\.0-9]+)\s(?<lon>[\-\.0-9]+))
LOOKUP-dive_site_ids = dive_site_ids divesiteid AS divesiteid OUTPUTNEW country AS country divesitename AS divesitename gps AS gps lat AS lat lon AS lon
EXTRACT-subsurface-divesiteid = \<dive\snumber(.*?)divesiteid=\'(?<divesiteid>[A-Za-z0-9]+)\'
EXTRACT-subsurface-divesitename = \<site(.*?)name=\'(?P<divesitename>[^']+)
EXTRACT-subsurface-divenumber = (?=[^<]*(?:<dive|<.*<dive))^[^'\n]*'(?P<divenumber>\d+)
EXTRACT-subsurface-site-divesiteid = \<site(.*?)uuid=\'(?P<divesiteid>[A-Za-z0-9]+)
EXTRACT-subsurface-dive-divemaster = \<divemaster\>(?<divemaster>(.*?))\<\/divemaster>
EXTRACT-subsurface-dive-notes = \<notes\>(?<notes>(.*?))\<\/notes>
EXTRACT-subsurface-site-gps = \<site(.*?)gps=\'(?<gps>(.*?))\'
EXTRACT-subsurface-dive-buddy = \<buddy\>(?<buddy>(.*?))\<\/buddy>
EXTRACT-subsurface-dive-maxdepth,meandepth = \<depth\smax=\'(?<maxdepth>[\.0-9]+)(.*?)mean=\'(?<meandepth>[\.0-9]+)
EXTRACT-subsurface-dive-airtemp,watertemp = \<temperature\sair=\'(?<airtemp>[0-9\.]+)(.*?)water=\'(?<watertemp>[0-9\.]+)
EXTRACT-subsurface-dive-visibility = \<dive(.*?)visibility=\'(?<visibility>\d+)
EXTRACT-subsurface-dive-date = \<dive(.*?)date=\'(?<date>[0-9\-]+)
EXTRACT-subsurface-dive-entrytime = \<dive(.*?)time=\'(?<entrytime>[0-9:]+)
EXTRACT-subsurface-dive-diveduration = \<dive(.*?)duration=\'(?<diveduration>[0-9:]+)
